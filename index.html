<!DOCTYPE html>
<html lang="is">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hafdís Helgadóttir – næringarfræðingur & kennari</title>
    <meta name="description" content="Hafdís Helgadóttir – næringarfræðingur & kennari. Næringarþjálfun, ráðgjöf og fræðsla fyrir börn, unglinga og fullorðna. Ævintýri Petru Papriku bók, einfaldar uppskriftir og hagnýt ráð.">
    <meta name="keywords" content="Hafdís Helgadóttir, næringarfræðingur, næringarþjálfun, ráðgjöf, fræðsla, börn, unglingar, fullorðnir, uppskriftir, Ævintýri Petru Papriku, heilbrigður lífsstíll, ráð & leiðbeiningar">
    <meta name="author" content="Hafdís Helgadóttir">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Hafdís Helgadóttir – næringarfræðingur & kennari">
    <meta property="og:description" content="Næringarþjálfun og ráðgjöf fyrir fjölskyldur. Bók, uppskriftir og fræðsla.">
    <meta property="og:image" content="img/bokin_sjalf.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Hafdís Helgadóttir – næringarfræðingur & kennari">
    <meta name="twitter:description" content="Næringarþjálfun, ráðgjöf og fræðsla. Ævintýri Petru Papriku & einfaldar uppskriftir.">
    <meta name="twitter:image" content="img/bokin_sjalf.png">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Book",
      "name": "Ævintýri Petru Papriku",
      "author": { "@type": "Person", "name": "Hafdís Helgadóttir" },
      "inLanguage": "is",
      "image": "img/bokin_sjalf.png",
      "offers": {
        "@type": "Offer",
        "url": "https://www.penninn.is/is/book/aevintyri-petru-papriku?fbclid=PAZXh0bgNhZW0CMTEAAads6NlVcK7lxiAImSUwdANlz_w2-ZM8W7vFo7-XxoCgbC6ix9itbEBBNJ2z7g_aem_gSpAwRvfxSRGcyp0nwC2kg"
      }
    }
    </script>
    
    <style>
        /* Reset and base styles */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --cream: #FAF3E0;
            --orange: #F28C38;
            --terracotta: #D95D39;
            --dark: #2E2E2E;
            --gray: #F5F5F5;
            
            --font-base: 18px;
            --line-height-base: 1.7;
            --font-family: var(--font-family-sans);
            --font-family-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Inter, Arial, sans-serif;
            
            --section-spacing-mobile: 64px;
            --section-spacing-desktop: 96px;
            --border-radius: 16px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: var(--font-family);
            font-size: var(--font-base);
            line-height: var(--line-height-base);
            color: var(--dark);
            background: var(--cream);
            overflow-x: hidden;
        }

        /* Utilities */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .grid {
            display: grid;
            gap: 24px;
        }

        .grid-3 {
            grid-template-columns: 1fr;
        }

        @media (min-width: 768px) {
            .grid-3 {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border: 2px solid transparent;
            border-radius: var(--border-radius);
            font-family: inherit;
            font-size: 16px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 48px;
        }

        /* Fix button focus style */
        .btn:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(217, 93, 57, 0.5);
        }

        .btn-primary {
            background: var(--orange);
            color: white;
        }

        .btn-primary:hover {
            background: #e07b2a;
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .btn-secondary {
            background: transparent;
            color: var(--terracotta);
            border-color: var(--terracotta);
        }

        .btn-secondary:hover {
            background: var(--terracotta);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        /* Skip link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--orange);
            color: white;
            padding: 8px;
            z-index: 1000;
            text-decoration: none;
            border-radius: 4px;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(250, 243, 224, 0.9);
            backdrop-filter: blur(8px);
            z-index: 100;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .header.scrolled {
            box-shadow: var(--shadow);
        }

        .header.hidden {
            transform: translateY(-100%);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
            min-height: 78px;
        }

        .wordmark {
            font-size: 20px;
            font-weight: 800;
            color: var(--dark);
            text-decoration: none;
        }

        .nav {
            display: none;
        }

        .nav-list {
            display: flex;
            list-style: none;
            gap: 28px;
        }

        .nav-link {
            color: var(--dark);
            text-decoration: none;
            font-weight: 600;
            letter-spacing: 0.01em;
            position: relative;
            padding: 8px 0;
            transition: color 0.2s ease;
        }

        .nav-link:hover {
            color: var(--orange);
        }

        /* Underline animation for nav */
        .nav-link::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 2px;
            background: var(--orange);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.2s ease;
        }
        .nav-link:hover::after { transform: scaleX(1); }
        .nav-link.active { color: var(--orange); }
        .nav-link.active::after { transform: scaleX(1); }

        .reading-toggle {
            background: var(--gray);
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .reading-toggle:hover {
            background: var(--orange);
            color: white;
        }

        @media (min-width: 768px) {
            .nav {
                display: block;
            }
            .nav-list { gap: 32px; }
        }
        @media (min-width: 1024px) {
            .nav-list { gap: 40px; }
        }

        /* Hero */
        .hero {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding-top: 86px;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--cream) 0%, #f5ead3 50%, var(--gray) 100%);
            z-index: -2;
        }

        .hero-blob {
            position: absolute;
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--orange), var(--terracotta));
            opacity: 0.1;
            z-index: -1;
            animation: float 6s ease-in-out infinite;
        }

        .hero-blob:nth-child(1) {
            top: 10%;
            right: -200px;
        }

        .hero-blob:nth-child(2) {
            bottom: 10%;
            left: -200px;
            animation-delay: -3s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .hero-content {
            max-width: 600px;
        }

        .hero h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 24px;
            color: var(--dark);
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            margin-bottom: 32px;
            color: #555;
        }

        .hero-actions {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        /* Sections */
        .section {
            padding: var(--section-spacing-mobile) 0;
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s ease;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        @media (min-width: 768px) {
            .section {
                padding: var(--section-spacing-desktop) 0;
            }
        }

        .section-title {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: 700;
            text-align: center;
            margin-bottom: 48px;
            color: var(--dark);
        }

        .section-intro {
            text-align: center;
            color: #666;
            max-width: 800px;
            margin: -8px auto 32px;
            font-size: 1.05rem;
            line-height: 1.6;
        }

        .section-alt {
            background: var(--gray);
        }

        /* Cards */
        .card {
            background: white;
            padding: 32px;
            border-radius: 24px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            height: 100%;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .card-icon {
            width: 48px;
            height: 48px;
            margin-bottom: 16px;
            fill: var(--orange);
        }

        .card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--dark);
        }

        .card p {
            margin-bottom: 24px;
            color: #666;
        }

        /* Ráð & leiðbeiningar */
        #radgjof .card ul {
            list-style: none;
            padding-left: 0;
            margin-top: 16px;
        }
        #radgjof .card li {
            padding: 8px 0;
            border-bottom: 1px solid var(--gray);
        }
        #radgjof .card li:before {
            content: '✓';
            color: var(--orange);
            margin-right: 12px;
            font-weight: bold;
        }

        /* Ráð & leiðbeiningar cards */
.advice-card {
    padding: 0;
    display: flex;
    flex-direction: column;
}
.card-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 24px 24px 0 0;
}
.card-content {
    padding: 24px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}
.card-content h3 {
    margin-bottom: 16px;
}
.card-content ul {
    list-style: none;
    padding-left: 0;
    flex-grow: 1;
    margin-top: 16px;
}
.card-content li {
    padding: 12px 0;
    border-bottom: 1px solid #eee;
    font-size: 1rem;
    line-height: 1.5;
}
.card-content li::before {
    content: '✓';
    color: var(--orange);
    margin-right: 12px;
    font-weight: bold;
}
.expand-gallery-btn {
    margin-top: 24px;
    width: 100%;
}

/* Image Gallery */
.image-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 8px;
    margin-top: 16px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-out;
}
.image-gallery[hidden] {
    display: grid !important; /* Override default hidden style to allow animation */
}
.image-gallery.expanded {
    max-height: 500px; /* Adjust as needed */
}
.image-gallery img {
    width: 100%;
    height: 100px;
    object-fit: cover;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.2s ease;
}
.image-gallery img:hover {
    transform: scale(1.05);
}

/* Uppskriftir */
.recipe-card {
    background: white;
    padding: 24px;
    border-radius: 24px;
    box-shadow: var(--shadow);
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
.recipe-card h4 {
    font-size: 1.2rem;
    margin-bottom: 12px;
}
.recipe-card p {
    color: #666;
    margin-bottom: 24px;
}

/* Recipe images */
.recipe-image {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 16px;
    margin-bottom: 16px;
    box-shadow: var(--shadow);
}

/* Modal images */
.modal-image {
    width: 100%;
    height: max-content;
    max-height: 30vh;
    object-fit: contain;
    border-radius: 12px;
    margin-top: 16px;
    box-shadow: var(--shadow);
}

/* Book section */
.book-content {
    display: grid;
    gap: 48px;
    align-items: center;
}

@media (min-width: 768px) {
    .book-content {
        grid-template-columns: 1fr 1fr;
    }
}

/* Balance text vs. image in the book section */
#book p, #book li {
    font-size: clamp(0.95rem, 1.2vw, 1rem);
    line-height: 1.65;
}
@media (min-width: 768px) {
    /* Ensure the image column never shrinks too small on wider screens */
    #book .book-content { grid-template-columns: minmax(400px, 1fr) 1fr; }
}

.book-cover {
    width: 100%;
    max-width: 400px;
    aspect-ratio: 3/4;
    border-radius: var(--border-radius);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    overflow: hidden;
    box-shadow: var(--shadow);
}

@media (min-width: 768px) {
    .book-cover { max-width: 460px; }
}

.book-cover-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: var(--border-radius);
}

.book-cover-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--orange), var(--terracotta));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.book-title {
    font-size: 1.2rem;
    font-weight: 600;
    text-align: center;
    line-height: 1.3;
}

.book-title small {
    font-size: 0.8rem;
    opacity: 0.9;
}

.book-facts {
    background: var(--gray);
    padding: 24px;
    border-radius: var(--border-radius);
    margin: 24px 0;
}

.book-facts h4 {
    margin-bottom: 16px;
    color: var(--dark);
}

.book-facts ul {
    list-style: none;
}

.book-facts li {
    padding: 4px 0;
    color: #666;
}

/* Downloads */
.downloads {
    display: grid;
    gap: 16px;
    margin-bottom: 32px;
}

@media (min-width: 768px) {
    .downloads {
        grid-template-columns: repeat(2, 1fr);
    }
}

.download-item {
    display: flex;
    align-items: center;
    padding: 16px;
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    text-decoration: none;
    color: var(--dark);
    transition: all 0.3s ease;
}

.download-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover);
}

.download-icon {
    width: 24px;
    height: 24px;
    margin-right: 12px;
    fill: var(--orange);
}

/* Testimonials */
.testimonials-container {
    position: relative;
}

.testimonials {
    overflow: hidden;
    border-radius: var(--border-radius);
}

.testimonial {
    display: none;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    padding: 48px 24px;
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    min-height: 280px;
}

.testimonial.active {
    display: flex;
}

.testimonial-text {
    font-size: 1.1rem;
    font-style: italic;
    margin-bottom: 24px;
    color: var(--dark);
}

.testimonial-author {
    font-weight: 600;
    color: var(--terracotta);
}

.stars {
    display: flex;
    justify-content: center;
    margin-bottom: 24px;
}

.star {
    width: 20px;
    height: 20px;
    fill: var(--orange);
    margin: 0 2px;
}

.testimonial-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 16px;
    margin-top: 24px;
}

.testimonial-btn {
    background: var(--gray);
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.testimonial-btn:hover {
    background: var(--orange);
    color: white;
}

.testimonial-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* About */
.about-content {
    display: grid;
    gap: 48px;
    align-items: center;
}

@media (min-width: 768px) {
    .about-content {
        grid-template-columns: 300px 1fr;
    }
}

.portrait {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    box-shadow: var(--shadow);
}

.portrait-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
}

.portrait-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--orange), var(--terracotta));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 3rem;
    font-weight: 700;
    border-radius: 50%;
}

.about-skills {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-top: 24px;
}

.skill-badge {
    background: var(--orange);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
}

/* FAQ */
.faq-item {
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    margin-bottom: 16px;
    overflow: hidden;
}

.faq-question {
    width: 100%;
    background: none;
    border: none;
    padding: 24px;
    text-align: left;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--dark);
}

.faq-question:hover {
    background: var(--gray);
}

.faq-answer {
    padding: 0 24px;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
}

.faq-item.open .faq-answer {
    padding: 0 24px 24px;
    max-height: 200px;
}

.faq-icon {
    transition: transform 0.3s ease;
}

.faq-item.open .faq-icon {
    transform: rotate(180deg);
}

/* Contact */
.contact-intro {
    text-align: center;
    margin-bottom: 48px;
}

.contact-intro p {
    font-size: 1.1rem;
    color: #666;
    max-width: 600px;
    margin: 0 auto;
}

.contact-content {
    display: grid;
    gap: 48px;
}

@media (min-width: 768px) {
    .contact-content {
        grid-template-columns: 1fr 1fr;
    }
}

.contact-info {
    display: flex;
    flex-direction: column;
    gap: 32px;
}

.contact-methods h3,
.contact-hours h3 {
    font-size: 1.3rem;
    margin-bottom: 16px;
    color: var(--dark);
    border-bottom: 2px solid var(--orange);
    padding-bottom: 8px;
}

.contact-methods {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.contact-item {
    display: flex;
    align-items: center;
    padding: 20px;
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    text-decoration: none;
    color: var(--dark);
    transition: all 0.3s ease;
    border-left: 4px solid transparent;
}

.contact-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover);
    border-left-color: var(--orange);
}

.contact-icon {
    width: 28px;
    height: 28px;
    margin-right: 16px;
    fill: var(--orange);
    flex-shrink: 0;
}

.contact-hours {
    background: var(--gray);
    padding: 24px;
    border-radius: var(--border-radius);
}

.hours-info p {
    margin-bottom: 12px;
    color: #666;
    line-height: 1.5;
}

.hours-info p:last-child {
    margin-bottom: 0;
}

.hours-info strong {
    color: var(--dark);
}

.form {
    background: white;
    padding: 32px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
}

.form-group {
    margin-bottom: 24px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--dark);
}

.form-input,
.form-textarea {
    width: 100%;
    padding: 12px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-family: inherit;
    font-size: 16px;
    transition: border-color 0.3s ease;
}

.form-input:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--orange);
}

.form-textarea {
    min-height: 120px;
    resize: vertical;
}

.form-error {
    color: var(--terracotta);
    font-size: 14px;
    margin-top: 4px;
    display: none;
}

.form-group.error .form-error {
    display: block;
}

.form-group.error .form-input,
.form-group.error .form-textarea {
    border-color: var(--terracotta);
}

/* Toast */
.toast {
    position: fixed;
    top: 100px;
    right: 20px;
    background: var(--orange);
    color: white;
    padding: 16px 24px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-hover);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.25s ease, visibility 0.25s ease;
    z-index: 1000;
}

.toast.show {
    opacity: 1;
    visibility: visible;
}

/* Footer */
.footer {
    background: var(--dark);
    color: white;
    padding: 48px 0 24px;
    text-align: center;
}

.footer-links {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-bottom: 24px;
    flex-wrap: wrap;
}

.footer-link {
    color: white;
    text-decoration: none;
    transition: color 0.3s ease;
}

.footer-link:hover {
    color: var(--orange);
}

/* Animations */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .hero-blob {
        animation: none;
    }
}

/* Responsive adjustments */
@media (max-width: 767px) {
    .hero-actions {
        flex-direction: column;
        align-items: stretch;
    }
    
    .btn {
        width: 100%;
    }
    /* Mobile header polish */
    .header { background: var(--cream); backdrop-filter: none; }
    .header-content { padding: 22px 0; min-height: 62px; justify-content: flex-start; }
    .wordmark { font-size: 19px; font-weight: 800; text-align: left; }
    /* Ensure comfortable spacing below the fixed header */
    .hero { padding-top: 76px; }
    #playPauseBtn {
        width: auto;
        min-width: 90px;
        padding: 8px 12px;
        border-radius: 20px;
        font-weight: 600;
    }
    .testimonial-controls { gap: 12px; }
}

/* Modal */
.modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.9);
    background: white;
    padding: 32px;
    border-radius: 24px;
    box-shadow: var(--shadow-hover);
    z-index: 1001;
    width: min(92vw, 900px);
    max-height: 90vh;
    overflow: auto;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}
.modal.active {
    opacity: 1;
    visibility: visible;
    transform: translate(-50%, -50%) scale(1);
}
@media (max-width: 480px) {
    .modal {
        padding: 16px;
        border-radius: 16px;
        width: 94vw;
        max-height: 92vh;
    }
}
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}
.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}
.close-modal-btn {
    position: absolute;
    top: 16px;
    right: 16px;
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: #999;
}
.modal-content h3 {
    margin-bottom: 24px;
    font-size: 1.8rem;
}
.modal-content h4 {
    margin-top: 24px;
    margin-bottom: 12px;
    border-bottom: 1px solid var(--gray);
    padding-bottom: 8px;
}
.modal-content ul {
    list-style: none;
    padding-left: 0;
}
.modal-content li {
    padding: 4px 0;
}

/* Image Lightbox Modal */
#modal-image-lightbox {
    display: none; /* Hide it completely by default */
    align-items: center;
    justify-content: center;
    background: transparent;
    padding: 0;
    box-shadow: none;
    width: auto;
    max-width: 100vw;
    height: 100vh;
}
#modal-image-lightbox.active {
    display: flex; /* Show it as a flex container when active */
}

#modal-image-lightbox .close-modal-btn {
    position: absolute;
    top: 16px;
    right: 16px;
    color: white;
    font-size: 3rem;
    text-shadow: 0 0 8px rgba(0,0,0,0.8);
    line-height: 1;
    z-index: 1002;
}
#lightbox-image {
    display: block;
    max-width: 90vw;
    max-height: 90vh;
    border-radius: 16px;
    object-fit: contain;
}
.lightbox-nav-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.3);
    color: white;
    border: none;
    font-size: 3rem;
    padding: 0 16px;
    cursor: pointer;
    z-index: 1002;
    height: 100px;
    border-radius: 8px;
    transition: background 0.2s ease;
}
.lightbox-nav-btn:hover {
    background: rgba(0,0,0,0.5);
}
.lightbox-nav-btn.prev {
    left: 16px;
}
.lightbox-nav-btn.next {
    right: 16px;
}

/* Testimonials */
.testimonials-container {
    position: relative;
}
.testimonials {
    overflow: hidden;
    border-radius: var(--border-radius);
}
.testimonial {
    display: none;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    padding: 48px 24px;
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    min-height: 280px;
}
.testimonial.active {
    display: flex;
}
.testimonial-text {
    font-size: 1.1rem;
    font-style: italic;
    margin-bottom: 24px;
    color: var(--dark);
}
.testimonial-author {
    font-weight: 600;
    color: var(--terracotta);
}
.stars {
    display: flex;
    justify-content: center;
    margin-bottom: 24px;
}
.star {
    width: 20px;
    height: 20px;
    fill: var(--orange);
    margin: 0 2px;
}
.testimonial-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 16px;
    margin-top: 24px;
}
.testimonial-btn {
    background: var(--gray);
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}
.testimonial-btn:hover {
    background: var(--orange);
    color: white;
}
.testimonial-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Recipes responsive layout */
#uppskriftir .grid-3 {
    grid-template-columns: 1fr;
}
@media (min-width: 768px) {
    #uppskriftir .grid-3 {
        grid-template-columns: repeat(2, 1fr);
    }
    .recipe-card {
        display: grid;
        grid-template-columns: 220px 1fr;
        gap: 16px 24px;
        align-items: center;
        text-align: left;
        padding: 24px;
    }
    .recipe-card > img.recipe-image {
        margin-bottom: 0;
        height: 100%;
        grid-column: 1;
        grid-row: 1 / span 3;
        align-self: stretch;
        border-radius: 16px;
    }
    .recipe-card > :not(img) {
        grid-column: 2;
    }
    .recipe-card h4 {
        margin: 0 0 8px 0;
    }
    .recipe-card p {
        margin-bottom: 16px;
    }
}
@media (min-width: 1024px) {
    #uppskriftir .grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }
    /* Switch cards back to stacked layout for better 3-up appearance */
    .recipe-card {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        text-align: left;
        padding: 20px;
        gap: 12px;
    }
    .recipe-card > img.recipe-image {
        height: 160px;
        margin-bottom: 0;
        border-radius: 14px;
    }
    .recipe-card h4 {
        margin: 0 0 4px 0;
    }
    .recipe-card p {
        margin: 0 0 12px 0;
    }
}
    </style>
</head>
<body>
   
    
    <header class="header" id="header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="wordmark">Hafdís næringarfræðingur</a>
                
                <nav class="nav" role="navigation" aria-label="Aðalvalmynd">
                    <ul class="nav-list">
                        <li><a href="#book" class="nav-link">Bókin</a></li>
                        <li><a href="#testimonials" class="nav-link">Umsagnir</a></li>
                        <li><a href="#radgjof" class="nav-link">Ráðgjöf</a></li>
                        <li><a href="#uppskriftir" class="nav-link">Uppskriftir</a></li>
                        <li><a href="#about" class="nav-link">Um Hafdísi</a></li>
                        <li><a href="#contact" class="nav-link">Samband</a></li>
                    </ul>
                </nav>
                
            </div>
        </div>
    </header>

    <main id="main">
        <section class="hero" id="hero">
            <div class="hero-bg"></div>
            
            <div class="container">
                <div class="hero-content">
                    <h1>Hafdís Helgadóttir – næringarfræðingur & kennari</h1>
                    <p class="hero-subtitle">
                        Ég hjálpa börnum, foreldrum og kennurum að byggja upp heilbrigðan lífsstíl í gegnum fræðslu, ráðgjöf og skapandi verkefni.
                    </p>
                    <div class="hero-actions">
                        <a href="#radgjof" class="btn btn-primary">Skoða námsefni</a>
                        <a href="https://www.penninn.is/is/book/aevintyri-petru-papriku?fbclid=PAZXh0bgNhZW0CMTEAAads6NlVcK7lxiAImSUwdANlz_w2-ZM8W7vFo7-XxoCgbC6ix9itbEBBNJ2z7g_aem_gSpAwRvfxSRGcyp0nwC2kg" class="btn btn-secondary" target="_blank" rel="noopener noreferrer">Kaupa bókina</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt" id="book">
            <div class="container">
                <h2 class="section-title">Bókin – Ævintýri Petru Papriku</h2>
                
                <div class="book-content">
                    <div class="book-cover">
                        <img src="img/bokin_sjalf.png" alt="Ævintýri Petru Papriku - bókarkápa" class="book-cover-image">
                    </div>
                    
                    <div>
                        <p style="margin-bottom: 24px;">
                            Ævintýri Petru Papriku er saga fyrir börn þar sem næringarfræðsla er fléttuð inn á skemmtilegan hátt. Yngri börnin njóta lifandi mynda, eldri börn lesa sjálf og kafa dýpra. Aftast er fræðslukafli fyrir þann sem les með barninu og leiðarvísir í efni á netinu. Textinn hentar vel fyrir lesblinda.
                        </p>
                        
                        <div class="book-quote" aria-label="Umsögn um bókina">
                            <p>"Mæli með að þið nælið ykkur í eintak af þessari frábæru barnabók... Algjör negla!"</p>
                            <small>— Íris Mist Magnúsdóttir</small>
                        </div>
                        
                        <div class="book-facts">
                            <h4>Upplýsingar um bókina</h4>
                            <ul>
                                <li><strong>Aldur:</strong> 2-10 ára</li>
                                <li><strong>Þema:</strong> Næringarfræðsla fyrir börn</li>
                                <li><strong>Letur:</strong> Lesblindu-vænt</li>
                                <li><strong>Myndir:</strong> Hildur Hörn Sigurðardóttir</li>
                                <li><strong>Ritstjórn:</strong> Sæunn Þórisdóttir</li>
                                <li><strong>Ritrýni:</strong> Börn 2-10 ára</li>
                            </ul>
                        </div>
                        
                        <a href="https://www.penninn.is/is/book/aevintyri-petru-papriku?fbclid=PAZXh0bgNhZW0CMTEAAads6NlVcK7lxiAImSUwdANlz_w2-ZM8W7vFo7-XxoCgbC6ix9itbEBBNJ2z7g_aem_gSpAwRvfxSRGcyp0nwC2kg" class="btn btn-primary" target="_blank" rel="noopener noreferrer">Kaupa bókina</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt" id="testimonials">
<div class="container">
    <h2 class="section-title">Umsagnir</h2>
    <div class="testimonials-container">
        <div class="testimonials" aria-live="polite">
            <div class="testimonial active">
              
                <p class="testimonial-text">
                    "Mæli með að þið nælið ykkur í eintak af þessari frábæru barnabók eftir Hafdís Helgadóttir sem er einnig næringarfræðingur. Algjör negla og fullkomin í jólapakkan. Til hamingju með þetta Hafdís!"
                </p>
                <div class="testimonial-author">— Íris Mist Magnúsdóttir</div>
            </div>
            <div class="testimonial">
                <p class="testimonial-text">"Ég elska Petru Papriku"</p>
                <div class="testimonial-author">— 3 ára lesandi</div>
            </div>
            <div class="testimonial">
                <p class="testimonial-text">"Við erum báðar mjög ánægðar með hana. Sköpuðust skemmtilegar umræður í kringum lesturinn"</p>
                <div class="testimonial-author">— Móðir 4 ára lesanda</div>
            </div>
            <div class="testimonial">
                <p class="testimonial-text">"Bókin um Petru Papriku er skemmtileg, fyndin og lærdómsrík. Í skólanum var ég einmitt að læra um næringarefni og svoleiðis, og ég fékk algjörlega hjálp frá bókinni þá"</p>
                <div class="testimonial-author">— 11 ára lesandi</div>
            </div>
            <div class="testimonial">
                <p class="testimonial-text">"Þetta er besta bók sem ég hef lesið"</p>
                <div class="testimonial-author">— 8 ára lesandi</div>
            </div>
        </div>
        <div class="testimonial-controls">
            <button class="testimonial-btn" id="prevBtn" aria-label="Fyrri umsögn">‹</button>
            <button class="testimonial-btn" id="playPauseBtn" aria-label="Spila eða stöðva">⏸</button>
            <button class="testimonial-btn" id="nextBtn" aria-label="Næsta umsögn">›</button>
        </div>
    </div>
</div>
</section>

<section class="section" id="radgjof">
<div class="container">
    <h2 class="section-title">Námsefni & fræðslumolar</h2>
    <p class="section-intro">Auk bókarinnar Ævintýri Petru Papriku býð ég einnig upp á fræðslumola og efni fyrir börn, unglinga og fullorðna sem hjálpa til við að byggja upp heilbrigðar matarvenjur</p>
    
    <div class="grid grid-3">
        <div class="card advice-card">
            <img src="more_img/godradborn.jpg" alt="Góð ráð fyrir börn" class="card-image">
            <div class="card-content">
                <h3>Fyrir börn</h3>
                <ul>
                    <li>Vertu góð fyrirmynd við borð.</li>
                    <li>Leyfðu barninu að taka þátt í eldhúsinu.</li>
                    <li>Foreldri ákveður hvað/hvenær/hvar, barnið hvort og hversu mikið.</li>
                    <li>Kynntu nýjan mat rólega og ítrekað.</li>
                    <li>Vatn með og milli máltíða.</li>
                </ul>
                <button class="btn btn-secondary expand-gallery-btn" aria-expanded="false" aria-controls="gallery-born">Sýna fleiri myndir</button>
                <div class="image-gallery" id="gallery-born" hidden>
                    <img src="more_img/godrad18.jpg" alt="Myndasafn 1">
                    <img src="more_img/godrad19.jpg" alt="Myndasafn 2">
                    <img src="more_img/godrad20.jpg" alt="Myndasafn 3">
                    <img src="more_img/godrad21.jpg" alt="Myndasafn 4">
                    <img src="more_img/godrad22.jpg" alt="Myndasafn 5">
                </div>
            </div>
        </div>
        <div class="card advice-card">
            <img src="more_img/godrad_unglingar.jpg" alt="Góð ráð fyrir unglinga" class="card-image">
            <div class="card-content">
                <h3>Fyrir unglinga</h3>
                <ul>
                    <li>Skipuleggðu daginn (æfingar, skóli, hádegisval).</li>
                    <li>Drekktu vatn; forðastu íþróttadrykki nema við langar æfingar.</li>
                    <li>Borðaðu reglulega morgunmat.</li>
                    <li>Hugsaðu kolvetni + prótein + fita yfir daginn.</li>
                    <li>Hlusta á hungur/seddu og borða í núvitund.</li>
                </ul>
                <button class="btn btn-secondary expand-gallery-btn" aria-expanded="false" aria-controls="gallery-unglingar">Sýna fleiri myndir</button>
                <div class="image-gallery" id="gallery-unglingar" hidden>
                    <img src="more_img/godrad8.jpg" alt="Myndasafn 1">
                    <img src="more_img/godrad9.jpg" alt="Myndasafn 2">
                    <img src="more_img/godrad10.jpg" alt="Myndasafn 3">
                    <img src="more_img/godrad11.jpg" alt="Myndasafn 4">
                    <img src="more_img/godrad12.jpg" alt="Myndasafn 5">
                    <img src="more_img/godrad13.jpg" alt="Myndasafn 6">
                </div>
            </div>
        </div>
        <div class="card advice-card">
            <img src="more_img/godrad_fullordnir.jpg" alt="Góð ráð fyrir fullorðna" class="card-image">
            <div class="card-content">
                <h3>Fyrir fullorðna</h3>
                <ul>
                    <li>Vikuskipulag máltíða og innkaup.</li>
                    <li>Lesa innihaldslýsingar og velja minna unnið.</li>
                    <li>Bæta næringarríku inn frekar en að taka út.</li>
                    <li>Núvitund við borð; njóta matarins.</li>
                </ul>
                <button class="btn btn-secondary expand-gallery-btn" aria-expanded="false" aria-controls="gallery-fullordnir">Sýna fleiri myndir</button>
                <div class="image-gallery" id="gallery-fullordnir" hidden>
                    <img src="more_img/godrad_skipulag.jpg" alt="Myndasafn 1">
                    <img src="more_img/godrad6.jpg" alt="Myndasafn 2">
                    <img src="more_img/godrad7.jpg" alt="Myndasafn 3">
                    <img src="more_img/godrad5.jpg" alt="Myndasafn 4">
                </div>
            </div>
        </div>
    </div>
</div>
</section>

        <section class="section section-alt" id="uppskriftir">
            <div class="container">
                <h2 class="section-title">Einfaldar uppskriftir</h2>
                <div class="grid grid-3">
                    <div class="recipe-card">
                        <img src="more_img/dodlusulta.jpg" alt="Döðlusulta á brauði" class="recipe-image" loading="lazy">
                        <h4>Döðlusulta</h4>
                        <p>Gott á brauð og í chia graut.</p>
                        <button class="btn btn-secondary open-modal-btn" data-modal-target="modal-dodlusulta">Lesa uppskrift</button>
                    </div>
                    <div class="recipe-card">
                        <img src="more_img/frappo_kaffiboos.jpg" alt="Frappó (Kaffiboost)" class="recipe-image" loading="lazy">
                        <h4>Frappó (Kaffiboost)</h4>
                        <p>Fljótlegur, próteinríkur og orkugefandi kaffidrykkur.</p>
                        <button class="btn btn-secondary open-modal-btn" data-modal-target="modal-frappo">Lesa uppskrift</button>
                    </div>
                    <div class="recipe-card">
                        <img src="more_img/ponnukokur.jpg" alt="Pönnukökur" class="recipe-image" loading="lazy">
                        <h4>Pönnukökur</h4>
                        <p>Mjúkar, seðjandi pönnukökur sem allir elska.</p>
                        <button class="btn btn-secondary open-modal-btn" data-modal-target="modal-ponnukokur">Lesa uppskrift</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="about">
            <div class="container">
                <h2 class="section-title">Um Hafdísi</h2>
                
                <div class="about-content">
                    <div class="portrait">
                        <img src="img/hafdis_sjalf.jpg" alt="Hafdís Helgadóttir - næringarfræðingur og kennari" class="portrait-image">
                    </div>
                    
                    <div>
                        <p style="margin-bottom: 24px;">
                            Ég heiti Hafdís Helgadóttir og er næringarfræðingur og kennari. Ég hef haldið fræðsluerindi, veitt ráðgjöf og skrifað kennsluefnið "Heil og sæl" fyrir Námsgagnastofnun. Ástríða mín er að styðja börn, foreldra og kennara – með skapandi fræðslu og heilbrigðum lífsstíl. Ég gaf út bókina Ævintýri Petru Papriku árið 2024.
                        </p>
                        
                        <div class="about-skills">
                            <span class="skill-badge">Næring & uppeldi</span>
                            <span class="skill-badge">Fræðsla</span>
                            <span class="skill-badge">Ráðgjöf</span>
                            <span class="skill-badge">Fyrirlestrar</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt" id="faq">
            <div class="container">
                <h2 class="section-title">Spurt & svarað</h2>
                
                <div class="faq-list">
                    <div class="faq-item">
                        <button class="faq-question" aria-expanded="false">
                            Fyrir hvaða aldur er bókin ætluð?
                            <span class="faq-icon">▼</span>
                        </button>
                        <div class="faq-answer">
                            <p>Bókin hentar börnum á aldrinum 2-10 ára. Yngri börnin njóta mynda og einfaldra texta, á meðan eldri börn geta lesið sjálf og kафað dýpra í efnið.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <button class="faq-question" aria-expanded="false">
                            Er bókin lesblindu-væn?
                            <span class="faq-icon">▼</span>
                        </button>
                        <div class="faq-answer">
                            <p>Já, textinn er hannaður með lesblinda í huga og notar leturgerð og skipulag sem auðveldar lestur fyrir börn með lesskorðun.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <button class="faq-question" aria-expanded="false">
                            Má nota námsefnið í kennslu?
                            <span class="faq-icon">▼</span>
                        </button>
                        <div class="faq-answer">
                            <p>Já, allt námsefni er leyft til notkunar í kennslu og heimanámi. Vinsamlegast tilgreinið höfund við notkun.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <button class="faq-question" aria-expanded="false">
                            Er hægt að bóka heimsókn í skóla?
                            <span class="faq-icon">▼</span>
                        </button>
                        <div class="faq-answer">
                            <p>Já, ég kem gjarnan í skóla og leikskóla með fyrirlestra og gagnvirka námskeið. Hafið samband til að ræða möguleika.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="contact">
            <div class="container">
                <h2 class="section-title">Hafa samband</h2>
                
                <div class="contact-intro">
                    <p>Ertu með spurningar um næringu, vilt bóka fyrirlestur eða kaupa bókina? Ég hlakka til að heyra frá þér!</p>
                </div>
                
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="contact-methods">
                            <h3>Hafðu samband</h3>
                            
                            <a href="mailto:hafdis24@gmail.com" class="contact-item">
                                <svg class="contact-icon" viewBox="0 0 24 24">
                                    <path d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"/>
                                </svg>
                                <div>
                                    <strong>Netfang</strong><br>
                                    <small>hafdis24@gmail.com</small>
                                </div>
                            </a>
                            
                            <a href="https://www.facebook.com/profile.php?id=61563869384516" target="_blank" rel="noopener noreferrer" class="contact-item">
                                <svg class="contact-icon" viewBox="0 0 24 24">
                                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                </svg>
                                <div>
                                    <strong>Facebook</strong><br>
                                    <small>Fylgdu mér og sendu skilaboð</small>
                                </div>
                            </a>
                            
                            <a href="https://www.instagram.com/hafdisnaering/" target="_blank" rel="noopener noreferrer" class="contact-item">
                                <svg class="contact-icon" viewBox="0 0 24 24">
                                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                </svg>
                                <div>
                                    <strong>Instagram</strong><br>
                                    <small>@hafdisnaering</small>
                                </div>
                            </a>
                        </div>
                        
                        <div class="contact-hours">
                            <h3>Svartími</h3>
                            <div class="hours-info">
                                <p><strong>Netfang:</strong> Ég svara venjulega innan 24 klst.</p>
                                <p><strong>Samfélagsmiðlar:</strong> Fylgstu með fyrir uppfærslur og ráðleggingar</p>
                                <p><strong>Fyrirlestrar:</strong> Hafðu samband fyrir tímabókanir</p>
                            </div>
                        </div>
                    </div>
                    
                    <form class="form" id="contactForm" name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/" novalidate>
                        <input type="hidden" name="form-name" value="contact">
                        <p class="visually-hidden">
                            <label>Ekki fylla út þetta svæði: <input name="bot-field"></label>
                        </p>
                        <div class="form-group">
                            <label for="name" class="form-label">Nafn *</label>
                            <input type="text" id="name" name="name" class="form-input" required>
                            <div class="form-error">Vinsamlegast sláið inn nafn</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">Netfang *</label>
                            <input type="email" id="email" name="email" class="form-input" required>
                            <div class="form-error">Vinsamlegast sláið inn gilt netfang</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="message" class="form-label">Skilaboð *</label>
                            <textarea id="message" name="message" class="form-textarea" required></textarea>
                            <div class="form-error">Vinsamlegast skrifið skilaboð</div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Senda skilaboð</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <nav class="footer-links" aria-label="Footer navigation">
                <a href="#book" class="footer-link">Bókin</a>
                <a href="#radgjof" class="footer-link">Ráðgjöf</a>
                <a href="#uppskriftir" class="footer-link">Uppskriftir</a>
                <a href="#about" class="footer-link">Um Hafdísi</a>
                <a href="#contact" class="footer-link">Hafa samband</a>
            </nav>
            <p>&copy; 2025 Hafdís Helgadóttir. Allur réttur áskilinn.</p>
        </div>
    </footer>

    <div class="toast" id="toast" role="alert" aria-live="assertive">
        <p>Takk fyrir skilaboðin! Ég svara eins fljótt og auðið er.</p>
    </div>

    <!-- Modals -->
    <div class="modal" id="modal-dodlusulta">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h3>Döðlusulta</h3>
            <h4>Innihald:</h4>
            <ul>
                <li>100 g döðlur</li>
                <li>250 ml hreinn eplasafi</li>
                <li>1 tsk vanilludropar eða ½ tsk vanilluduft</li>
                <li>Klípa af kanil</li>
            </ul>
            <h4>Aðferð (stutt):</h4>
            <p>Saxið döðlur og setjið í pott með safa (látið liggja 30–60 mín eða sjóðið lengur). Bætið kanil/vanillu, sjóðið ~10 mín (20 mín ef ekkert látið liggja). Maukið slétt í matvinnsluvél.</p>
            <p><em>Gott á brauð og í chia graut.</em></p>
        </div>
    </div>

    <div class="modal" id="modal-frappo">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h3>Frappó (Kaffiboost)</h3>
            <h4>Innihald:</h4>
            <ul>
                <li>1 espressó skot</li>
                <li>200 ml vatn</li>
                <li>1 msk hnetusmjör</li>
                <li>1 skeið whey súkkulaði prótein</li>
                <li>8–9 klakar</li>
            </ul>
            <h4>Aðferð:</h4>
            <p>Setja allt í blandara og blanda þar til kremkennt.</p>
        </div>
    </div>

    <div class="modal" id="modal-ponnukokur">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h3>Pönnukökur</h3>
            <h4>Innihald:</h4>
            <ul>
                <li>1 stappaður banani</li>
                <li>2 egg</li>
                <li>1 msk hnetusmjör (valkv.)</li>
                <li>1–2 msk Husk</li>
                <li>4 dl hveiti</li>
                <li>4–5 dl haframjólk (eða önnur)</li>
                <li>1 tsk vanilludropar</li>
                <li>1 tsk lyftiduft</li>
            </ul>
            <h4>Aðferð:</h4>
            <p>Stappa bananan, hræra með eggjum og hnetusmjöri, bæta Husk/hveiti/mjólk, síðan vanillu og lyftidufti. Steikja á pönnu með smá jurtaolíu.</p>
        </div>
    </div>

<!-- Image Lightbox Modal -->
<div class="modal" id="modal-image-lightbox">
    <button class="close-modal-btn">&times;</button>
    <button class="lightbox-nav-btn prev" id="lightbox-prev" aria-label="Fyrri mynd">‹</button>
    <img src="" alt="Stækkuð mynd" id="lightbox-image">
    <button class="lightbox-nav-btn next" id="lightbox-next" aria-label="Næsta mynd">›</button>
</div>

<div class="modal-overlay"></div>

<script>
        // Utilities
        const $ = (selector) => document.querySelector(selector);
        const $$ = (selector) => document.querySelectorAll(selector);
        
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        
        // Header scroll behavior
        let lastScrollY = window.scrollY;
        const header = $('#header');
        const stickyBuy = $('#stickyBuy');
        
        function updateHeader() {
            const scrollY = window.scrollY;
            
            // Add shadow when scrolled
            if (scrollY > 10) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
            
            // Mobile: hide on scroll down, show on scroll up. Desktop: always visible
            const isMobile = window.matchMedia('(max-width: 767px)').matches;
            if (isMobile && !prefersReducedMotion) {
                if (scrollY > lastScrollY && scrollY > 100) {
                    header.classList.add('hidden');
                } else {
                    header.classList.remove('hidden');
                }
            } else {
                header.classList.remove('hidden');
            }
            
            // Toggle sticky buy button
            if (stickyBuy) {
                if (scrollY > 300) stickyBuy.classList.add('visible');
                else stickyBuy.classList.remove('visible');
            }
            
            lastScrollY = scrollY;
        }
        
        window.addEventListener('scroll', updateHeader);
        
        // Smooth scrolling for navigation links
        $$('a[href^="#"]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').slice(1);
                const target = $(`#${targetId}`);
                
                if (target) {
                    const headerHeight = header.offsetHeight;
                    const targetPosition = target.offsetTop - headerHeight - 20;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Intersection Observer for scroll reveal
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);
        
        // Observe all sections
        $$('.section').forEach(section => {
            observer.observe(section);
        });
        
        // Hero parallax effect
        const hero = $('#hero');
        const heroBlobs = $$('.hero-blob');
        
        if (!prefersReducedMotion) {
            // Mouse parallax
            hero.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                const { innerWidth, innerHeight } = window;
                
                const xPercent = (clientX / innerWidth - 0.5) * 2;
                const yPercent = (clientY / innerHeight - 0.5) * 2;
                
                heroBlobs.forEach((blob, index) => {
                    const multiplier = (index + 1) * 10;
                    blob.style.transform = `translate(${xPercent * multiplier}px, ${yPercent * multiplier}px)`;
                });
            });
            
            // Reset on mouse leave
            hero.addEventListener('mouseleave', () => {
                heroBlobs.forEach(blob => {
                    blob.style.transform = '';
                });
            });
        }
        
        // FAQ accordion
        $$('.faq-question').forEach(button => {
            button.addEventListener('click', () => {
                const faqItem = button.parentElement;
                const isOpen = faqItem.classList.contains('open');
                
                // Close all other FAQ items
                $$('.faq-item').forEach(item => {
                    item.classList.remove('open');
                    item.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
                });
                
                // Toggle current item
                if (!isOpen) {
                    faqItem.classList.add('open');
                    button.setAttribute('aria-expanded', 'true');
                }
            });
        });
        
        // Form validation
        const contactForm = $('#contactForm');
        const nameInput = $('#name');
        const emailInput = $('#email');
        const messageInput = $('#message');
        const toast = $('#toast');
        
        function showError(input, message) {
            const formGroup = input.parentElement;
            formGroup.classList.add('error');
            const errorDiv = formGroup.querySelector('.form-error');
            errorDiv.textContent = message;
        }
        
        function clearError(input) {
            const formGroup = input.parentElement;
            formGroup.classList.remove('error');
        }
        
        function validateEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }
        
        function showToast() {
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }
        
        // Real-time validation
        [nameInput, emailInput, messageInput].forEach(input => {
            input.addEventListener('input', () => clearError(input));
            input.addEventListener('blur', () => {
                if (!input.value.trim()) {
                    showError(input, 'Þetta svæði er áskilið');
                } else if (input.type === 'email' && !validateEmail(input.value)) {
                    showError(input, 'Vinsamlegast sláið inn gilt netfang');
                }
            });
        });
        
        contactForm.addEventListener('submit', (e) => {
            let isValid = true;
            
            // Clear previous errors
            [nameInput, emailInput, messageInput].forEach(clearError);
            
            // Validate name
            if (!nameInput.value.trim()) {
                showError(nameInput, 'Vinsamlegast sláið inn nafn');
                isValid = false;
            }
            
            // Validate email
            if (!emailInput.value.trim()) {
                showError(emailInput, 'Vinsamlegast sláið inn netfang');
                isValid = false;
            } else if (!validateEmail(emailInput.value)) {
                showError(emailInput, 'Vinsamlegast sláið inn gilt netfang');
                isValid = false;
            }
            
            // Validate message
            if (!messageInput.value.trim()) {
                showError(messageInput, 'Vinsamlegast skrifið skilaboð');
                isValid = false;
            }
            
            // Prevent submit only if invalid; otherwise let Netlify handle submission
            if (!isValid) e.preventDefault();
        });
        
        // Initialize visible sections that are already in view
        setTimeout(() => {
            $$('.section').forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    section.classList.add('visible');
                }
            });
        }, 100);

        // Testimonials carousel
        const testimonialEls = Array.from($$('.testimonial'));
        const prevBtn = $('#prevBtn');
        const nextBtn = $('#nextBtn');
        const playPauseBtn = $('#playPauseBtn');

        let currentTestimonialIndex = testimonialEls.findIndex(el => el.classList.contains('active'));
        if (currentTestimonialIndex < 0 && testimonialEls.length > 0) {
            currentTestimonialIndex = 0;
            testimonialEls[0].classList.add('active');
        }

        function setActiveTestimonial(index) {
            if (testimonialEls.length === 0) return;
            testimonialEls.forEach(el => el.classList.remove('active'));
            currentTestimonialIndex = (index + testimonialEls.length) % testimonialEls.length;
            testimonialEls[currentTestimonialIndex].classList.add('active');
        }

        function showNextTestimonial() { setActiveTestimonial(currentTestimonialIndex + 1); }
        function showPrevTestimonial() { setActiveTestimonial(currentTestimonialIndex - 1); }

        if (prevBtn) prevBtn.addEventListener('click', showPrevTestimonial);
        if (nextBtn) nextBtn.addEventListener('click', showNextTestimonial);

        let userPaused = false;
        let testimonialTimer = null;

        function updatePlayPauseLabel(running) {
            if (!playPauseBtn) return;
            playPauseBtn.textContent = running ? '⏸' : '▶';
            playPauseBtn.setAttribute('aria-label', running ? 'Stöðva snúning' : 'Spila snúning');
        }

        function startAutoplay() {
            if (testimonialTimer || testimonialEls.length <= 1) return;
            testimonialTimer = setInterval(showNextTestimonial, 6000);
            updatePlayPauseLabel(true);
        }

        function stopAutoplay() {
            if (testimonialTimer) {
                clearInterval(testimonialTimer);
                testimonialTimer = null;
            }
            updatePlayPauseLabel(false);
        }

        if (playPauseBtn) {
            playPauseBtn.addEventListener('click', () => {
                userPaused = !userPaused;
                if (userPaused) {
                    stopAutoplay();
                } else {
                    startAutoplay();
                }
            });
        }

        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                stopAutoplay();
            } else if (!userPaused) {
                startAutoplay();
            }
        });

        // Kick off autoplay by default
        if (!userPaused) startAutoplay();
        // Ensure correct label on load and on resize
        updatePlayPauseLabel(!!testimonialTimer);
        window.addEventListener('resize', () => updatePlayPauseLabel(!!testimonialTimer));

        // Modal logic
        const openModalButtons = $$('.open-modal-btn');
        const closeModalButtons = $$('.close-modal-btn');
        const overlay = $('.modal-overlay');

        openModalButtons.forEach(button => {
            button.addEventListener('click', () => {
                const modal = $(`#${button.dataset.modalTarget}`);
                openModal(modal);
            });
        });

        closeModalButtons.forEach(button => {
            button.addEventListener('click', () => {
                const modal = button.closest('.modal');
                closeModal(modal);
            });
        });

        overlay.addEventListener('click', () => {
            const activeModal = $('.modal.active');
            if (activeModal) {
                closeModal(activeModal);
            }
        });

        function openModal(modal) {
            if (modal == null) return;
            modal.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modal) {
            if (modal == null) return;
            modal.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal on Escape
        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const activeModal = $('.modal.active');
                if (activeModal) closeModal(activeModal);
            }
        });

        // Gallery expand/collapse logic
        $$('.expand-gallery-btn').forEach(button => {
            button.addEventListener('click', () => {
                const isExpanded = button.getAttribute('aria-expanded') === 'true';
                const galleryId = button.getAttribute('aria-controls');
                const gallery = $(`#${galleryId}`);

                button.setAttribute('aria-expanded', !isExpanded);
                gallery.hidden = isExpanded; // Toggle hidden attribute correctly

                // Use a timeout to allow the hidden attribute to apply before adding/removing class
                setTimeout(() => {
                    if (!isExpanded) {
                        gallery.classList.add('expanded');
                        button.textContent = 'Fela myndir';
                    } else {
                        gallery.classList.remove('expanded');
                        button.textContent = 'Sýna fleiri myndir';
                    }
                }, 10); // A small delay is enough
            });
        });

        // Image Lightbox Logic
        const galleryImages = $$('.image-gallery img');
        const lightboxModal = $('#modal-image-lightbox');
        
        if (lightboxModal) {
            const lightboxImage = $('#lightbox-image');
            const lightboxCloseBtn = lightboxModal.querySelector('.close-modal-btn');
            const lightboxPrevBtn = lightboxModal.querySelector('.lightbox-nav-btn.prev');
            const lightboxNextBtn = lightboxModal.querySelector('.lightbox-nav-btn.next');

            let currentGalleryImages = [];
            let currentImageIndex = 0;

            function showImage(index) {
                if (galleryImages.length > 0) {
                    lightboxImage.src = galleryImages[index].src;
                    currentImageIndex = index;
                    updateLightboxNavButtons();
                }
            }

            function updateLightboxNavButtons() {
                if (galleryImages.length > 1) {
                    lightboxPrevBtn.style.display = 'block';
                    lightboxNextBtn.style.display = 'block';
                } else {
                    lightboxPrevBtn.style.display = 'none';
                    lightboxNextBtn.style.display = 'none';
                }
            }

            galleryImages.forEach((image, index) => {
                image.addEventListener('click', () => {
                    const gallery = image.closest('.image-gallery');
                    currentGalleryImages = Array.from(gallery.querySelectorAll('img'));
                    currentImageIndex = currentGalleryImages.indexOf(image);
                    updateLightboxImage();
                    openModal(lightboxModal);
                });
            });

            function updateLightboxImage() {
                if (currentGalleryImages.length > 0) {
                    lightboxImage.src = currentGalleryImages[currentImageIndex].src;
                }
            }

            lightboxPrevBtn.addEventListener('click', () => {
                currentImageIndex = (currentImageIndex - 1 + currentGalleryImages.length) % currentGalleryImages.length;
                updateLightboxImage();
            });

            lightboxNextBtn.addEventListener('click', () => {
                currentImageIndex = (currentImageIndex + 1) % currentGalleryImages.length;
                updateLightboxImage();
            });

            if (lightboxCloseBtn) {
                lightboxCloseBtn.addEventListener('click', () => {
                    closeModal(lightboxModal);
                });
            }
        }

        // Highlight active nav link on scroll (desktop polish)
        const navLinks = Array.from($$('.nav-link'));
        const sectionIds = navLinks
            .map(a => a.getAttribute('href'))
            .filter(href => href && href.startsWith('#'))
            .map(href => href.slice(1));

        const sections = sectionIds.map(id => document.getElementById(id)).filter(Boolean);

        function updateActiveNav() {
            const offset = header.offsetHeight + 8;
            let currentId = sections[0]?.id || '';
            let found = false;
            for (const section of sections) {
                const rect = section.getBoundingClientRect();
                if (rect.top <= offset && rect.bottom >= offset) {
                    currentId = section.id;
                    found = true;
                    break;
                }
            }
            // Fallback: pick the last section whose top has passed the offset
            if (!found) {
                for (const section of sections) {
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= offset) currentId = section.id;
                }
            }
            // If scrolled to bottom, ensure last section is active
            if (window.innerHeight + window.scrollY >= document.body.scrollHeight - 2) {
                currentId = sections[sections.length - 1]?.id || currentId;
            }
            navLinks.forEach(a => {
                const id = a.getAttribute('href')?.slice(1);
                if (!id) return;
                if (id === currentId) a.classList.add('active'); else a.classList.remove('active');
            });
        }
        window.addEventListener('scroll', updateActiveNav, { passive: true });
        window.addEventListener('load', updateActiveNav);
        window.addEventListener('resize', updateActiveNav);
    </script>
</body>
</html>
